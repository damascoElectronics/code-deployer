# .pre-commit-config.yaml
repos:
  # 1. Verificaciones b√°sicas de archivos
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.4.0
    hooks:
      - id: trailing-whitespace       # Delate spaces at the end of the line
      - id: end-of-file-fixer         # asaign a new line at the end of the file
      - id: check-yaml                # validate the sintax id a YAML file
      - id: check-json                # validate the sintax id a JSON file
      - id: check-merge-conflict      # Detect the marks of a merge conflict
      - id: check-added-large-files   # Prevent commits of big files
      - id: mixed-line-ending         # Detects mixing of line terminators

  # 2. Python Code Formatting
  - repo: https://github.com/psf/black
    rev: 23.7.0
    hooks:
      - id: black
        language_version: python3
        args: [--line-length=80]      # Consistent with Google Style Guide

  # 3. ordanate the imports
  - repo: https://github.com/pycqa/isort
    rev: 5.12.0
    hooks:
      - id: isort
        args: [--profile=black, --line-length=80]

  # 4. Pylint
  - repo: https://github.com/PyCQA/pylint
    rev: v3.0.0
    hooks:
      - id: pylint
        args: [--rcfile=.pylintrc, --score=no]  # No show score on pre-commit
        additional_dependencies: [pylint-google-style-guide-imports-enforcing]
        # Only execute python files
        files: \.py$
        # Exclude certain files if necessary
        exclude: ^(migrations/|tests/fixtures/)

  # 5. Type checking with mypy (optional but recommended)
  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.5.1
    hooks:
      - id: mypy
        additional_dependencies: [types-requests]
        args: [--ignore-missing-imports]